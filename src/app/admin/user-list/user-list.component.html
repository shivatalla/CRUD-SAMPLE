<h4 class="text-primary mb-4">Users List</h4>
<div class="alert alert-success  text-center py-2 small" role="alert" *ngIf='successMsg'>
  Your request is processed successfully!
</div>
<div class="alert alert-success  text-center py-2 small" role="alert" *ngIf='delMsg'>
  User is deleted successfully!
</div>
<div class="alert alert-danger ng-star-inserted text-center py-2 small" role="alert" *ngIf='errMsg'>
  Some thing is wrong please try again!
</div>
<br>
<form [formGroup]="form" (ngSubmit)="createUser()">
  <div class="row">
    <div class="col">
      <mat-form-field class="w-100">
        <mat-label>UserId</mat-label>
        <input matInput autocomplete="off" formControlName="id" id="userId" value="" type="number">
      </mat-form-field>
      <div *ngIf="f.id.touched && f.id.invalid" class="small text-danger">
        <div *ngIf="f.id.errors.required">Name is required.</div>
      </div>
    </div>
    <div class="col">
      <mat-form-field class="w-100">
        <mat-label>User Name</mat-label>
        <input matInput autocomplete="off" formControlName="name" id="name" value="">

      </mat-form-field>
      <div *ngIf="f.name.touched && f.name.invalid" class="small text-danger">
        <div *ngIf="f.name.errors.required">Name is required.</div>
      </div>
    </div>

    <div class="col">
      <mat-radio-group aria-label="Select an option" formControlName="gender">
        <mat-radio-button value="Male" name="gender">Male</mat-radio-button>
        <mat-radio-button value="Female" name="gender">Female</mat-radio-button>
      </mat-radio-group>
      <div *ngIf="f.gender.touched && f.gender.invalid" class="small text-danger">
        <div *ngIf="f.gender.errors.required">Gender is required.</div>
      </div>
    </div>

    <div class="col">
      <mat-form-field>
        <mat-label>Select Role</mat-label>
        <mat-select formControlName="role" id="userRole">
          <mat-option *ngFor="let role of roles" [value]="role.value">
            {{role.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div *ngIf="f.role.touched && f.role.invalid" class="small text-danger">
        <div *ngIf="f.role.errors.required">Role is required.</div>
      </div>
    </div>
    <div class="col">
      <button mat-raised-button color="warn" class="md-button-right" type="submit" [disabled]="form.invalid">
        {{ btnText }}
      </button>
    </div>
  </div>
</form>
<div class="clearfix"></div>
<div class="table-responsive mt-4">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>User Id</th>
        <th>User Name</th>
        <th>Gender</th>
        <th>User Role</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td> {{ user.id }}</td>
        <td> {{ user.name }}</td>
        <td> {{ user.gender }} </td>
        <td> {{ user.role }}</td>
        <td>
          <button class="btn btn-outline-info btn-sm me-2 mb-1 mb-md-0" (click)="editUser(user.id)">
            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor"
              class="mt-n1 bi bi-pencil" viewBox="0 0 16 16" style="margin-top: -5px;">
              <path
                d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
            </svg>
            Edit
          </button>
          <button class="btn btn-outline-danger btn-sm" (click)="delete(user.id)">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-x mt-n1"
              viewBox="0 0 14 14" style="margin-top: -2px;">
              <path
                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
            </svg>
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>